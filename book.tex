\documentclass[12pt,a4paper]{book}

%% Packages.
%%\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage[hyphens]{url}
\usepackage[breaklinks=true,linktocpage,pagebackref,colorlinks=true,hyperindex=true,hyperfigures]{hyperref}
\usepackage{color}
\usepackage[twoside,margin=0.8in,bindingoffset=0.3in]{geometry}
\usepackage{quotchap} %% for chapter heading
\usepackage{listings}
\usepackage{setspace}
\usepackage{booktabs}
\usepackage{xcolor}
\usepackage{times}
\usepackage{courier}
\usepackage{makeidx} %% For creating indices
\usepackage{fancyvrb}           % The alternative Verbatim package that can be tuned.

% Define a few colors.
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{bgcolor}{rgb}{0.95,0.95,0.92}
\definecolor{maroon}{rgb}{0.5,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}

\lstdefinelanguage{XML}{
  basicstyle=\ttfamily\footnotesize,
  morestring=[b]",
  morestring=[b]',
  moredelim=[s][\bfseries\color{codegreen}]{<}{>},
  moredelim=[s][\bfseries\color{codegreen}]{</}{>},
  moredelim=[l][\bfseries\color{maroon}]{/>},
  moredelim=[l][\bfseries\color{codegreen}]{>},
  morecomment=[s]{<?}{?>},
  morecomment=[s]{<!--}{-->},
  commentstyle=\color{darkgreen},
  stringstyle=\color{blue},
  identifierstyle=\color{red}
}

% A listings style for bash command and output.
\lstdefinestyle{bashstyle}{
    backgroundcolor=\color{bgcolor},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\singlespacing\footnotesize,
    aboveskip={0ex},
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\makeindex
%%\indexintoc
%% chapter title colors.
\colorlet{chaptergrey}{black}
\renewcommand*\sectfont{\color{black}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% New commands.
\newcommand{\bashcommand}[1]{
  \lstset{style=bashstyle}
  \begin{lstlisting}
    #1
  \end{lstlisting}
}

% The environment for display the command output.
\newenvironment{cmdout}[1]
{\lstset{style=bashstyle}\begin{lstlisting}}
{\end{lstlisting}}

% Displaying the xml content. 
\newenvironment{showxml}[1]
{\lstset{style=bashstyle}
\begin{lstlisting}}
{\end{lstlisting}}

\newcommand{\commandoutput}[1] {
    %\begin{verbatim}
    #1
    %\end{verbatim}
}

\newcommand{\filecontent}[1] {
    %\begin{verbatim}
    #1
    %\end{verbatim}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Renew commands.
\let\oldenumerate\enumerate
\renewcommand{\enumerate}{
  \oldenumerate
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
}

\let\olditemize\itemize
\renewcommand{\itemize}{
  \olditemize
  \setlength{\itemsep}{1pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
}

%% line spread for verbatim to 1.
\makeatletter
\def\verbatim@font{\linespread{.75}\normalfont\ttfamily}
\makeatother

\overfullrule=1mm
\pretolerance=10000
%%\renewcommand{\familydefault}{\sfdefault}

%% for the boxes.
\usepackage{pifont,mdframed}

\newenvironment{warning}
  {\par\begin{mdframed}[linewidth=2pt,linecolor=red]%
    \begin{list}{}{\leftmargin=1cm
                   \labelwidth=\leftmargin}\item[\Large\ding{43}]}
  {\end{list}\end{mdframed}\par}

\newenvironment{info}
  {\par\begin{mdframed}[linewidth=2pt,linecolor=green]%
    \begin{list}{}{\leftmargin=1cm
                   \labelwidth=\leftmargin}\item[\Large\ding{52}]}
  {\end{list}\end{mdframed}\par}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% no indentation
%%\setlength\parindent{0pt}
\setlength\parskip{1pt}

% line spacing
%%\linespread{1}
\singlespacing
\begin{document}
\frontmatter                            % only in book class (roman page #s)
% title page.
\title{\color{black}Hadoop Operations and Cluster Management Cookbook}
\author{\color{black}Shumin Guo}
\date{\color{black}\today}
\maketitle                              % Print title page.
\renewcommand{\baselinestretch}{0.75}\normalsize
\tableofcontents                        % Print table of contents
\listoffigures
\listoftables
\renewcommand{\baselinestretch}{1.5}\normalsize

\mainmatter

% chapter one.
\input{chapter1}


% chapter two.
\input{chapter2}


% chapter three.
\input{chapter3}

% chapter four.
\input{chapter4}

% chapter five.
\input{chapter5}

% chapter six.
\input{chapter6}

% chapter seven.
\input{chapter7}

% chapter seven.
\input{chapter8}

\appendix
%% \input{apA} % Appendix A

\printindex

\backmatter

\end{document}
